<html>
    <head>
        <meta charset="UTF-8">
        <title>Promises in Javascript</title>
        <style>
        body {
            font-size: 20px;
            padding: 10px 12px;        
        }
        h1 {
            font-size: 1.6em;
            margin: 0 0 0.5em 0;
        }
        </style>
    </head>
    <body>
        <h1>Star wars films</h1>
        <div id="output"></div>
    </body>
    <script>
            const API_URL = "https://starwars.egghead.training/"
            
            const output = document.getElementById("output");
            output.innerText = "Loading...";
            
            fetch(API_URL + "films")
            .then(response =>  response.json())
            .then(films => {
                output.innerText = getFilmTitles(films)});
            // The promises tell that a request will be processed after some time. 
            // a promise is in either pending state, fulfilled, rejected or settled.
            
            function getFilmTitles(films) {
                const filmsTitles = films
                .sort((a, b) => a.episode_id - b.episode_id)
                .map(film => `${film.episode_id}. ${film.title}`)
                .join("\n");
                return filmsTitles;
            }
            </script>
</html>